<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="STYLESHEET" type="text/css" href="./styles.css" /></head>
<body>

<!-- ===================================================================== -->
<!-- = XML information goes here                                         = -->
<!-- ===================================================================== -->
<lzelement title="Dataselectionmanager">
    <lztier>LFC</lztier>
    <lzcategory>Data</lzcategory>
    <lzshortdesc>
	A selection manager for views generated by a lazily-replicated
	datapath
    </lzshortdesc>
    <lztag>tag-dataselectionmanager.xml</lztag>
    <lzapi>api-lzdataselectionmanager.xml</lzapi>
</lzelement>

<p>If a datapath's <attribute
tagname="datapath">replication</attribute> attribute is set to "lazy",
then a match to multiple nodes will create an
<classname>LzLazyReplicationManager</classname> instead of an
<classname>LzReplicationManager</classname>.  The lazy replication
manager creates only enough replicated views in order to display the
data, so there is not a view for each data node.  This enables the
display of very large datasets.</p>

<p>With lazy replication you must use a
<em><classname>LzDataSelectionManager</classname></em> instead of a
<classname>LzSelectionManager</classname>.  The
<classname>LzDataSelectionManager</classname> will operate on the data
itself, instead of on the views (which may not be present if the data
has scrolled out of view).  For each dataset you are controlling, you
can have only one <classname>LzDataSelectionManager</classname>
operating on it.</p>

<p>As with a <classname>LzSelectionManager</classname>, ctrl-click will
select multiple items and shift-click will select a range.  To modify
this behavior, you can extend the
<classname>LzDataSelectionManager</classname> and implement
<method>isRangeSelect</method> and <method>isMultiSelect</method>.</p>

<example>
&lt;canvas width="200" height="200"&gt;
  &lt;dataset name="mydata"&gt;
    &lt;list&gt;
      &lt;item&gt;tricycle&lt;/item&gt;
      &lt;item&gt;train&lt;/item&gt;
      &lt;item&gt;racecar&lt;/item&gt;
      &lt;item&gt;scooter&lt;/item&gt;
      &lt;item&gt;bicycle&lt;/item&gt;
      &lt;item&gt;rollerblades&lt;/item&gt;
      &lt;item&gt;iceskates&lt;/item&gt;
      &lt;item&gt;minivan&lt;/item&gt;
      &lt;item&gt;sailbaot&lt;/item&gt;
      &lt;item&gt;motorboat&lt;/item&gt;
    &lt;/list&gt;
  &lt;/dataset&gt;

  &lt;class name="selectme" onclick="immediateparent.selector.select(this)"
         height="17" width="100" bgcolor="white"&gt;
    &lt;text datapath="text()"/&gt;
    &lt;method name="setSelected" args="isselected"&gt;
      if (isselected) setAttribute('bgcolor', yellow);
      else setAttribute('bgcolor', white);
    &lt;/method&gt;
  &lt;/class&gt;

  &lt;view height="70" clip="true"&gt;
    &lt;view&gt;
      &lt;dataselectionmanager name="selector"/&gt;
      &lt;selectme&gt;
        &lt;datapath xpath="mydata:/list/item/" replication="lazy"/&gt;
      &lt;/selectme&gt;
      &lt;simplelayout/&gt;
    &lt;/view&gt;
    &lt;scrollbar/&gt;
  &lt;/view&gt;
&lt;/canvas&gt;
</example>
</body>
</html>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
