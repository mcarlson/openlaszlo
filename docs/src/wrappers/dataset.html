<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="STYLESHEET" type="text/css" href="../lps/includes/styles.css" /></head>
<body>

<!-- ===================================================================== -->
<!-- = XML information goes here                                         = -->
<!-- ===================================================================== -->
<lzelement title="Dataset">
    <lztier>LFC</lztier>
    <lzcategory>Data</lzcategory>
    <lzshortdesc>
        An in-memory xml-style data hierarchy.
    </lzshortdesc>
    <lztag> tag-top-level-dataset.xml </lztag>
    <lzapi>api-lzdataset.xml</lzapi>
</lzelement>
<p> A <tagname>dataset</tagname> tag defines a
 local dataset.  The name of the dataset is used in the <attribute>datapath</attribute>
 attribute of a view. </p>

<p>
The <attribute>src</attribute> attribute of the <tagname>dataset</tagname> element specifies whether the data is compiled into the 
application or fetched at runtime:
</p>
<ul>
<li>If the src attribute is a URL, the value of
 the dataset is the XML data that a request to the URL named by the
 src attribute returns when the application is run.</li>
 <li>If the src
 attribute is a pathname, the value of the dataset is the content of
 the XML file that the pathname refers to, and is compiled into the
 application.</li>
<li>  If the src attribute is not present, the value of the
 dataset is the content of the <tagname>dataset</tagname> element.</li>
</ul>

<p>All data in an OpenLazlo application is contained within one or more datasets. A given dataset usually represents a single conceptual set that may or may not be modified or reloaded during the execution of the application. 
The data within a dataset is accessed using a <tagname link="true">datapointer</tagname> or a instance of one of its subclasses. 
Datasets can represent</p>

<ul>
<li>local data (i.e. data which is static after compile time), or </li>
<li>http-data (data which is returned as XML over HTTP)</li>
</ul>

<p>
If a dataset is not explictly contained within in a <a href="datasource.html">datasource</a>, it will make an instance of datasource and be contained inside that. A dataset can be populated or re-poplulated at runtime by calling <code>doRequest</code> on the dataset. The result of the request is then returned to the application and the dataset's <a href="#attr-ondata">ondata</a> event is run. Any <a href="datapointer.html">datapointer</a> that is bound to the dataset will also run its <a href="datapointer.html#attr-ondata">ondata</a> event at this time as well.
</p>
<p>See the <a href="${dguide}data-structures.html">Developers's Guide</a> for more discussion of data and datasets. </p>
<p>
<b>Datasets in SOLO applications</b>.  Datasets are implemented differently in proxied and SOLO applications, with slight differences in functionality. For example, in SOLO applications is it not possible to retrieve http response headers. Also, white space may be handled differently.  See the <a href="${dguide}proxied.html">Developer's Guide</a>.
</p>

<p>
The example below makes a request of the cgi script on Laszlo's website that serves up weather information in xml form.</p>

<example title="Making a request using a dataset">
&lt;canvas height="250" width="800" debug="true"&gt;
 &lt;debug y="100"/&gt; 
 &lt;dataset type="http" name="weatherdata"
          src="http://www.laszlosystems.com/cgi-pub/weather.cgi"/&gt; 
 &lt;view&gt;
    &lt;inputtext width="90" name="t"&gt;zip&lt;/inputtext&gt;
    &lt;button&gt;  submit
      &lt;handler name="onclick"&gt; var d = canvas.datasets.weatherdata;
        Debug.write("sending request for weather data.");
        d.setQueryString({zip : parent.t.getText()});
        d.doRequest(); 
      &lt;/handler&gt;
    &lt;/button&gt;
    &lt;datapointer xpath="weatherdata:/weather"&gt;
      &lt;handler name="ondata"&gt;
        var duplicate_pointer = this.dupePointer();
        duplicate_pointer.selectChild();
        while (duplicate_pointer.selectNext()){
          Debug.write(duplicate_pointer.serialize());
        }
      &lt;/handler&gt;
    &lt;/datapointer&gt;
    &lt;simplelayout axis="x"/&gt;
  &lt;/view&gt;
&lt;/canvas&gt; 
</example>
</body>
</html>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2006 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
