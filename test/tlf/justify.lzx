<canvas width="100%" height="80%" debug="true">
  <debug  fontsize="12"/>

<script when="immediate">
<![CDATA[

    public class JustifyExample extends Sprite 
    {         
    #passthrough (toplevel:true) {
    import flash.display.Sprite; 
    import flash.text.*; 

    import flash.text.engine.*; 
    import flash.ui.Mouse; 
    import flash.display.Sprite 
    import flash.events.MouseEvent; 
    import flash.events.EventDispatcher; 


}#     


        public function JustifyExample(w) 
        { 
            var str:String = "Lorem ipsum dolor sit amet, consectetur adipisicing elit, " + 
            "sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut " + 
            "enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut " + 
            "aliquip ex ea commodo consequat."; 
             
            var format:ElementFormat = new ElementFormat(); 
            var textElement:TextElement=new TextElement(str,format); 
            var spaceJustifier:SpaceJustifier=new SpaceJustifier("en",LineJustification.ALL_BUT_LAST); 
             
            var textBlock:TextBlock = new TextBlock(); 
            textBlock.content=textElement; 
            textBlock.textJustifier=spaceJustifier; 
            createLines(textBlock,w); 
        } 
 
        private function createLines(textBlock:TextBlock, w:int):void { 
            var yPos=20; 
            var textLine:TextLine=textBlock.createTextLine(null,w); 
         
            while (textLine) { 
            addChild(textLine); 
                textLine.x=15; 
                yPos+=textLine.textHeight+2; 
                textLine.y=yPos; 
                textLine=textBlock.createTextLine(textLine,w); 
            } 
        } 
    } 

]]>
</script>

<attribute name="k" value="null"/>
<method name="justify" args="w">
  if (k != null)  {
    canvas.sprite.removeChild(k);
    }
     k = new JustifyExample(w);
     canvas.sprite.addChild(k);
</method>

<slider x="100" y="200" onvalue="canvas.justify(this.value)"
                  value="150" minvalue="40" maxvalue="1000" showvalue="true"/>



</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2010 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
