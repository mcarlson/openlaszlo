<canvas width="100%" height="80%" debug="true">
  <debug  fontsize="12"/>

<script when="immediate">
<![CDATA[


    /** Simple example of a text component where the text is selectable and editable.  */
    public class EditText extends Sprite {

    #passthrough (toplevel:true) {
    import flash.display.Sprite;
    import flashx.textLayout.container.ContainerController;
    import flashx.textLayout.elements.TextFlow;
    import flashx.textLayout.conversion.TextConverter;
    import flashx.textLayout.conversion.ConversionType;
    import flashx.textLayout.edit.EditManager;
    }#

    #passthrough {
        var textFlow:TextFlow;

        public function EditText()
        {

            var markup:String = "<p><font size='18'>Hello, World</font></p>";
            textFlow = TextConverter.importToFlow(markup, TextConverter.TEXT_FIELD_HTML_FORMAT);
            textFlow.flowComposer.addController(new ContainerController(this, 200, 50));
            textFlow.flowComposer.updateAllControllers();
            
            textFlow.interactionManager = new EditManager();
        }

        public  function exporttext () {
            var out = TextConverter.export(textFlow, TextConverter.PLAIN_TEXT_FORMAT, ConversionType.STRING_TYPE );
            mytext.setAttribute('text', out);
        }


    }#
    }


]]>
</script>

<attribute name="k" value="null"/>
<handler name="oninit" args="w">
     k = new EditText();
     canvas.sprite.addChild(k);      
</handler>

<text x="500" y="50" width="600" height="400" bgcolor="#cccccc" id="mytext"/>
<button x="500" y="0" onclick="canvas.k.exporttext()">export</button>



</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2010 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
