<!-- X_LZ_COPYRIGHT_BEGIN ************************************************
* Copyright 2006 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                       *
* X_LZ_COPYRIGHT_END ************************************************** -->

<canvas>


    <class name="camlistitem" 
        extends="textlistitem"
    >


        <attribute name="index" value="null"/>


        <method event="onclick"><![CDATA[
            gCamera.setAttribute("deviceindex", this.index);
            if (!gCamera.show) {
                gCamera.setAttribute("show", true);
            }
          ]]>
        </method>


    </class>


    <class name="cameralist" 
        extends="list" 
        width="300"
    >


        <method event="oninit"> <![CDATA[   
            var a = 
                gCamera.getCameraNames();

            Debug.write('Camera name array: ', a, a.length);
            var n = a.length;
            var i;
            for (i = 0; i < n; i++) {
                var cname = a[i];
                Debug.write("Camera device index", i, "name", cname);
                var c = 
                    new camlistitem(
                        this, 
                        {text:cname, index:i});
                Debug.write(c);
            }
          ]]>
        </method>


    </class>


    <simplelayout 
        axis="y" 
        spacing="10"
    />


    <text>list of available cameras (click to show):</text>


    <cameralist id="clist"/>


    <videoview id="v">
        <camera id="gCamera"/>
    </videoview>


</canvas>
