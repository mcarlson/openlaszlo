<!-- * X_LZ_COPYRIGHT_BEGIN *************************************************
* Copyright 2006 Laszlo Systems, Inc.  All Rights Reserved.                 *
* Use is subject to license terms.                                          *  
* X_LZ_COPYRIGHT_END ****************************************************** -->
<?xml version="1.0" encoding="UTF-8" ?>
<library>

<resource name="_rsc_video_play">
    <frame src="resources/play.swf" />
    <frame src="resources/play_over.swf" />    
    <frame src="resources/play_down.swf" />    
</resource>
<resource name="_rsc_video_pause">
    <frame src="resources/pause.swf" />
    <frame src="resources/pause_over.swf" />    
    <frame src="resources/pause_down.swf" />    
</resource>
<resource name="_rsc_video_seek_forward">
    <frame src="resources/seek_forward.swf" />
    <frame src="resources/seek_forward_over.swf" />    
    <frame src="resources/seek_forward_down.swf" />    
</resource>
<resource name="_rsc_video_seek_back">
    <frame src="resources/seek_back.swf" />
    <frame src="resources/seek_back_over.swf" />    
    <frame src="resources/seek_back_down.swf" />    
</resource>
<resource name="_rsc_video_tostart">
    <frame src="resources/tostart.swf" />
    <frame src="resources/tostart_over.swf" />    
    <frame src="resources/tostart_down.swf" />    
</resource>
<resource name="_rsc_video_stop">
    <frame src="resources/stop.swf" />
    <frame src="resources/stop_over.swf" />    
    <frame src="resources/stop_down.swf" />    
</resource>


<class name="videoiconbutton" extends="view">
    <method event="onmouseover">
        this.setResourceNumber(2);
    </method>
    <method event="onmouseout">
        this.setResourceNumber(1);
    </method>    
    <method event="onmousedown">
        this.setResourceNumber(3);
        this.parent.sendchange(this);
    </method>        
</class>

<class name="videocontrolbar" extends="view" bgcolor="0xCCCCCC" width="164" height="24">

    <attribute name="_video" value="null" />
    <attribute name="seekfactor" value="2" />
    
    <method name="sendchange" args="obj">
        Debug.write("Active: ",obj.name);
        doAction(obj.name);
    </method>
    
    <method name="doAction" args="actionName">
        switch (actionName) {
            case "_btn_play":
                Debug.write("play video");
                streamRef.togglevideo(false);
                break;
            case "_btn_pause":
                Debug.write("pause video: ",_video);
                streamRef.togglevideo(true);
                break;
            case "_btn_seek_back":
                Debug.write("seek back video");
                <![CDATA[
                var t = v.getTime-this.seekfactor;
                if (t>0) streamRef.seekvideo(t);
                ]]>
                break;
            case "_btn_seek_forward":
                Debug.write("seek forward video");
                var t = streamRef.getTime+this.seekfactor;
                streamRef.seekvideo(t);            
                break;
            case "_btn_video_tostart":
                Debug.write("rewind video");
                streamRef.rewind();
                break;
            case "_btn_video_stop":
                Debug.write("stop video");
                streamRef.stop();
                break;
            
            default:
                Debug.write(actionName);            
        }

    </method>
    
    <videoiconbutton x="12" y="2" name="_btn_play" resource="_rsc_video_play" />
    
    <videoiconbutton x="34" y="2" name="_btn_pause" resource="_rsc_video_pause" />
    
    <videoiconbutton x="58" y="2" name="_btn_seek_back" resource="_rsc_video_seek_back" />
    
    <videoiconbutton x="82" y="2" name="_btn_seek_forward" resource="_rsc_video_seek_forward" />
    
    <videoiconbutton x="106" y="2" name="_btn_video_tostart" resource="_rsc_video_tostart" />
    
    <videoiconbutton x="130" y="2" name="_btn_video_stop" resource="_rsc_video_stop" />
</class>

</library>
