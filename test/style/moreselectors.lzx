<!-- Copyright 2001-2006 Laszlo Systems, Inc.  All Rights Reserved. -->
<library>
    <simplelayout />
    <script src="moreselectors_css.js"/>

    <view id="gDavidtemkin">
    </view>
        
    <view id="notdavid"  >
    </view>
    
    <view name="michaelgovern" id="gMikey">
    </view>
    
    <view id="gJuju" width="200" height="200" bgcolor="#b3c1d9">
        <text>juju</text>
    </view>
    
    <view id="gLupe" width="200" height="50" bgcolor="#d9d9c3">
        <text>lupe</text>
    </view>
    
    <view id="gBob" width="220" height="100" bgcolor="#f9d496">
        <text>bob</text>
    </view>

    <view id="gPaul" width="175" height="30" bgcolor="#b3c1d9">
        <text>paul</text>
    </view>
    
    <view id="gAlice" />
    <view id="gRonnie" />    
    
    <testsuite name="moreselectors" loglevel="log">
        <handler name="oninit">
            this.addTest( "testDavid");
            this.addTest( "testNoStyle");
            this.addTest( "testName");
            this.addTest( "testAttrValue");      
            this.addTest( "testStarSelector")      
            this.run();
        </handler>

        <method name="testDavid">
            var cssd = LzCSSStyle.getComputedStyle( gDavidtemkin );
            this.assertNotNull( cssd );
            this.assertTrue( cssd instanceof LzCSSStyleDeclaration );
            this.assertEquals( "brown", cssd.getPropertyValue( "haircolor" ) );
            this.assertEquals( "CTO", cssd.getPropertyValue( "occupation" ) );            
            
            this.finishedTest("testDavid");
        </method>

        <method name="testName">
            var cssd = LzCSSStyle.getComputedStyle( gMikey );
            this.assertNotNull( cssd );
            this.assertTrue( cssd instanceof LzCSSStyleDeclaration );
            this.assertEquals( "blonde", cssd.getPropertyValue( "haircolor" ) );
            this.assertEquals( "monarch", cssd.getPropertyValue( "occupation" ) );            
            
            this.finishedTest("testName");
        </method>
        
        <method name="testNoStyle">
            this.assertNotNull( notdavid );
            var cssd = LzCSSStyle.getComputedStyle( notdavid );
            this.assertNotNull( cssd );
            this.assertTrue( cssd instanceof LzCSSStyleDeclaration );
            this.assertNull( cssd.getPropertyValue( "haircolor" ) );
            this.assertNull( cssd.getPropertyValue( "occupation" ) );            
            
            this.finishedTest("testNoStyle");
        </method>

        <method name="testAttrValue">
            var cssd = LzCSSStyle.getComputedStyle( gJuju );
            
            this.assertEquals( 200, gJuju.getAttribute( "width" ) );
            this.assertEquals( 200, gJuju.getAttribute( "height" ) );            
            this.assertEquals( "paleblue", cssd.getPropertyValue("eyecolor") );
            
            var lupes = LzCSSStyle.getComputedStyle( gLupe );
            this.assertEquals( "200", gLupe.getAttribute("width") );
            this.assertEquals( "paleblue", lupes.getPropertyValue("eyecolor") );

            var bobs = LzCSSStyle.getComputedStyle( gBob );
            this.assertEquals( "220", gBob.getAttribute("width") );
            this.assertEquals( "redrum", bobs.getPropertyValue("eyecolor") );

            var pauls = LzCSSStyle.getComputedStyle( gPaul );
            this.assertEquals( "175", gPaul.getAttribute("width") );
            this.assertNull( pauls.getPropertyValue("eyecolor") );
                        
            this.finishedTest("testAttrValue");
        </method>
        
        <method name="testStarSelector">
            this.assertNotNull( gAlice );
            var cssd = LzCSSStyle.getComputedStyle( gAlice );
            this.assertNotNull( cssd );
            this.assertTrue( cssd instanceof LzCSSStyleDeclaration );
            this.assertTrue( cssd.getPropertyValue( "groovy" ) );
            this.assertEquals( "mammal", cssd.getPropertyValue( "kingdom" ) );            
            
            var cssd2 = LzCSSStyle.getComputedStyle( gRonnie );
            this.assertNotNull( cssd2 );
            this.assertTrue( cssd2 instanceof LzCSSStyleDeclaration );
            this.assertTrue( cssd2.getPropertyValue( "groovy" ) );
            this.assertEquals( "mammal", cssd.getPropertyValue( "kingdom" ) );            
            
            var cssd3 = LzCSSStyle.getComputedStyle( gDavidtemkin );
            this.assertEquals( "mammal", cssd.getPropertyValue( "kingdom" ) );
            
            this.finishedTest("testStarSelector");
        </method>
        
    </testsuite>
</library>
