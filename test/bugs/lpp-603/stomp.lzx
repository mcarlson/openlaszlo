<canvas width="100%" height="60%" debug="true">


<!--
 <dataset name="mydata"
          type="http"
          queuerequests="true"
          request="false"
          timeout="15000"
          src="http://demo.asg.bellsouth.net/mybls/data/ent"/> 

-->

<dataset name="mydata" 
         request="false" 
         type="http" 
         timeout="50000" 
         src="sleep.jsp?s=5"  
         ondata="canvas.gotdata(this)"
         ontimeout="canvas.timeout(this, this.timeout)"
         />

<text>Requests will stall for 5 seconds at the server</text>
<button onclick="canvas.go()" text="${'load dataset with '+ mydata.timeout / 1000.0+ ' seconds timeout'}"/>
<simplelayout/>
<checkbox onclick="mydata.setAttribute('queuerequests', !mydata.queuerequests)" 
          value="${mydata.queuerequests}">mydata.queuerequests</checkbox>

<checkbox value="${canvas.proxied}" onclick="canvas.proxied=!canvas.proxied">canvas.proxied</checkbox>


<method name="go">
  Debug.write("calling mydata.doRequest()");
  this.stime = getTimer();
  mydata.doRequest();
</method>

<method name="gotdata" args="caller">
  Debug.write('gotdata', caller);
</method>



<method name="timeout" args="caller, timeoutValue">
  Debug.write(caller + ' timed out with a timeout value of ' + timeoutValue + '.');
  Debug.write('delay was '+ (getTimer() - stime));
</method>


</canvas>
