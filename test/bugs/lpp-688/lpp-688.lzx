<canvas height="90%" debug="true">
  <dataset name="mydata">
    <list>
      <item>tricycle</item>
    </list>
  </dataset>
  <dataset name="copydata">
    <list>
      <item>cherry</item>
      <item>lime</item>
    </list>
  </dataset>

  <class name="selectme" onclick="immediateparent.selector.select(this)"
         height="17" width="100" bgcolor="white">
    <text datapath="text()"/>
    <method name="setSelected" args="isselected">
      if (isselected) {
        Debug.write('selected', this, this.data, this.datapath.p); 
        setAttribute('bgcolor', yellow);
      } else {
        setAttribute('bgcolor', white);
      }
    </method>
  </class>

  <simplelayout axis="x"/>

  <view height="70" clip="true">
    <view>
      <dataselectionmanager name="selector"/>
      <selectme ondata="Debug.write('.data', this, this.data, this.datapath.p)">
        <datapath xpath="mydata:/list/item/" replication="lazy"/>
      </selectme>
      <simplelayout/>
    </view>
    <scrollbar/>
  </view>

  <button datapath="mydata:/list" visible="true">Add node
    <method event="onclick">
      this.datapath.addNode('item', 'bat');
    </method>
  </button>

  <button>setChildNodes
    <method event="onclick">
      mydata.setChildNodes([copydata.childNodes[0].cloneNode(true)])
    </method>
  </button>
  <button>Load external
    <method event="onclick">
      mydata.setSrc('test.xml');
      mydata.doRequest();
    </method>
  </button>
  <text>The data selection manager should work initially, and in any case where data is loaded or added.</text>
</canvas>
