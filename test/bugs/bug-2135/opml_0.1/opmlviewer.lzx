<canvas width="400" height="260">
    <resource name="g" src="grad_blk_up.swf"/>
    <resource name="poweredby" src="powered_laszlo.swf"/>
    <resource name="link" src="link.swf"/>
    <include href="lz/tabslider.lzx"/>
    <view clickable="true"
        onclick="LzBrowser.loadURL('http://www.laszlosystems.com','_blank')"
        width="128" height="15" resource="poweredby"/>

    <dataset name="opmldata" request="true" type="http" src="$once{global.opml}"/>

    <attribute name="defaultopml" value="http:opml.xml" type="string"/>
    <tabslider id="tslider" y="15"
        oninit="debug.write('tslider init'); this.opentab(this.subviews[0],true)"
        bgcolor="white"
        height="${parent.height - 15}"
        width="${parent.width}"
        spacing="0"
        mintabheight="15"
        slideduration="333">
<!--        <method event="onaddsubview" args="s">-->
<!--            debug.write('onaddsubview', s);-->
<!--            this.onheight.sendEvent();-->
<!--            debug.write(s.minheight);-->
<!--            debug.write(this.height);-->
<!--        </method>-->
        <tabelement name="t0" datapath="opmldata:/opml/body/outline"
            clickable="false" bgcolor="${parseInt(tabcolor)}">
            <method event="ondata">
                debug.write('ondata', this, parent.opennedtab.height);
            </method>
            <view resource="g" stretches="both" width="${parent.width}"
                height="15" opacity=".4"
                onclick="tslider.openTab(parent,true)"/>
            <text resize="false" datapath="@text" fgcolor="${parseInt(textcolor)}"/>
            <view y="15" resource="g" stretches="both"
                opacity=".5"
                width="parent.width" height="parent.height * 2 - 15"
                bgcolor="${parseInt(tabcolor)}"/>
            <view y="15"  width="${parent.width}">
                <simplelayout axis="y"/>
                <view datapath="outline" width="${parent.width}">
                    <view bgcolor="0x000044" opacity="0"
                        width="${parent.width}" height="${parent.title.height+2}"
                        onclick="LzBrowser.loadURL(this.url, '_blank')"
                        clickable='true'>
                        <attribute name="url" value="${parent.datapath.getXpath('@url')}"/>

                        <method event="onmouseover">
                            this.setAttribute('opacity', .5);
                            parent.pic.setAttribute('frame', 2);
                        </method>
                        <method event="onmouseout">
                            this.setAttribute('opacity', 0);
                            parent.pic.setAttribute('frame', 1);
                        </method>
                    </view>
                    <view name="pic" resource="link">
                        <attribute name="frame" value="1"/>
                    </view>
                    <text name="title" datapath="@text" fgcolor="${parseInt(textcolor)}"
                        x="${parent.pic.width}" width="${parent.width}"/>
                </view>
            </view>
        </tabelement>
    </tabslider>
</canvas>

<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
