<canvas width="1024" height="768">
    <dataset name="selfdata">
    </dataset>

    <class name="xmlnode" clickable="true">
        <attribute name="haschildren" value="false"/>

        <method event="ondata">
            if( this.datapath.getNodeCount() ){
               this.setAttribute( 'haschildren' , true );
            }
        </method>
        <method event="onclick">
            setAttribute('haschildren', true);
        </method>

        <simplelayout/>
        <text name="nm" width="600" datapath="name()"/>
        <text name="txt" width="600" datapath="text()" bgcolor="blue"/>

        <state name="childstate">
            <attribute name="apply" constraint="parent.haschildren"/>
            <xmlnode x="10" datapath="*" bgcolor="silver"/>
        </state>
    </class>

    <button x="610" label="load self">
        <method event="onclick">
            var u = new lzURL( lzbrowser.getloadURL() );
            u.query = 'lzt=xml';
            Debug.write(u);
            canvas.datasets.selfdata.setURL( 'foo.xml' );
            canvas.datasets.selfdata.doRequest();
        </method>
    </button>

    <view width="600" height="540" clip="true">
        <view >
            <simplelayout />
            <xmlnode name="repl" datapath="selfdata:/*"/>
        </view>
        <scrollbar/>
    </view>
</canvas>
