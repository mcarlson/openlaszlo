<canvas  bgcolor="silver">
    <simplelayout spacing="20"/>
    <text multiline="true" width="400">broken: type any key in the field below,
        a word should appear w/ chars 1-4 selected (onkeyup)</text>
    <inputtext id="a" bgcolor="white" x="20" y="20">
        <method event="onkeyup" args="kc">
            this.setText('food fight');
            this.setSelection(1,4);
        </method>
    </inputtext>

    <text multiline="true" width="400">workaround: type any key in the field below,
        a word should appear w/ chars 1-4 selected (text set onkeyup, setSelection called onIdle)</text>
    <inputtext id="a2" bgcolor="white" x="20" y="20">
        <attribute name="_idledel" value="$once{new LzDelegate(this, 'checkkeys')}"/>

        <method event="onkeyup" args="kc">
            this.setText('food fight');
            LzIdle.callOnIdle( _idledel );
        </method>
        <method name="checkkeys">
            this.setSelection(1,4);
        </method>
    </inputtext>

    <text>works: click the button to select chars 1-4</text>
    <view layout="axis:x; spacing:10">
        <inputtext id="c" bgcolor="white" >mint tea</inputtext>
        <button  onclick="c.setSelection(1,4);">setSelection</button>
    </view>
</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
