<canvas width="800" height="600">
    <debug y="260" height="200"/>

    <class name="scrollinputtext" clip="true">
        <!-- created by Max Carlson (max@laszlosystems.com) and Sarah Allen sallen@laszlosystems.com -->
       <attribute name="text" type="html" value=""/>
       <method name="getText">
           return inp.getText();
       </method>
       <method name="setText" args="t">
           inp.setText(t);
       </method>
       <inputtext fontsize="18" name="inp" height="${parent.height}" width="${parent.width - 20}" multiline="true" text="${parent.text}">
           <attribute name="lineheight" value="${this.getTextHeight()/this.maxscroll}"/>   <!-- fix this -->
           <attribute name="maxheight" value="${this.height + this.lineheight * (this.maxscroll - 1)}"/>
           <attribute name="onpos" value="null"/>
           <attribute name="pos" value="0" setter="setPos(pos);"/>

           <method event="onkeydown" args="kc"> <![CDATA[
               if (LzKeys.isKeyDown('control') &&  kc == '65') {
                    Debug.write('select-all');
               }
               ]]>
           </method>
           <method name="setPos" args="p">
               if (this.isinited) {
                   this.setScroll(1 - (p / this.lineheight));
                   this.pos = p;
                   if (this.onpos) this.onpos.sendEvent(p);
               }
           </method>
           <method event="onscroll">
               this.setPos(-this.lineheight * (this.scroll - 1), true);
           </method>
       </inputtext>
       <scrollbar name="sb" axis="y" scrollattr="pos"
           stepsize="${parent.inp.lineheight}"
           pagesize="${parent.height / parent.inp.lineheight}"
           scrollmax="${parent.inp.maxheight}"/>
    </class>

    <simplelayout spacing="20" axis="x"/>
    <view layout="spacing:20">
        <text>wheel active when focused</text>

    <scrollinputtext id="scin" height="100" width="200" name="scin">1 Edit edit eedit<br/>

        2 wcit edit<br/>
        3 wcit edit eedit<br/>
        4 wcit edit eedit<br/>
        5 Edit edit eedit<br/>
        6 Edit edit eedit<br/>
        7 Edit edit eedit<br/>
        8 Edit edit eedit<br/>
        9 Edit edit eedit<br/>
        10 Edit edit eedit<br/>
        11 Edit edit eedit<br/>
        12 this line is longer and wraps
    </scrollinputtext>

    <view height="100" width="170" name="scrollview" clip="true" focusable="true">
           <view width="${pic.width+8}" height="${pic.height+8}" bgcolor="blue">
                <view name="pic" x="4" y="4" resource="flyingpaperclip.jpg"/>
           </view>
           <scrollbar/>
    </view>
    </view>

    <view  layout="spacing:20" width="320" bgcolor="0xffffaa">
        <constantlayout axis="x" value="20"/>
        <text>wheel active when mouse over</text>
        <view height="100" width="170" name="sv1" clip="true" >
                <view width="${pic.width+8}" height="${pic.height+8}" bgcolor="blue"
                    focusable="true" clickable="true">
                     <view name="pic" x="4" y="4" resource="flyingpaperclip.jpg"/>
                </view>
               <scrollbar mousewheelevent_on="onmouseover" mousewheelevent_off="onmouseout"/>
        </view>
        <view height="100" width="170" name="sv2" clip="true" >
                <view width="${pic.width+8}" height="${pic.height+8}" bgcolor="blue"
                    focusable="true" clickable="true">
                     <view name="pic" x="4" y="4" resource="flyingpaperclip.jpg"/>
                </view>
               <scrollbar mousewheelevent_on="onmouseover" mousewheelevent_off="onmouseout"/>
        </view>
    </view>

</canvas>