<canvas bgcolor="#ACACB3" width="840" height="640"
    font="Arial, _sans" fontsize="11" embedfonts="false"
    title="Test -- Contact List">
    <font name="Arial, _sans">
        <face src="helmetr.ttf" />
        <face src="helmetb.ttf"  style="bold" />
        <face src="helmeti.ttf"  style="italic" />
        <face src="helmetbi.ttf" style="bold italic" />
    </font>
    <debug font="Arial, _sans" fontsize="11" height="200" x="170"/>

    <dataset name="contactsdata" src="http:test-contactsdata.xml" request="true"
        ondata="Debug.write('ondata',this.serialize())"/>
    <button onclick="contactsdata.setSrc('http:test-contactsdata-large.xml');
                    contactsdata.doRequest(); anim.doStart()"
        x="400" y="300">Request 2500 Contacts</button>
    <view bgcolor="blue" x="400" y="260" width="20" height="20" >
            <animator id="anim" to="200" attribute="x"  duration="700" relative="true" start="false"
                onstop="setAttribute('to', (this.to == 200 ? -200 : 200)); doStart()"/>
    </view>
    <method event="oninit">
        addr.setVisible(true);
    </method>
<!--    <include href="addrview.lzx"/>       -->
    <inittimer/>
    <view  y="20" width="158" height="${parent.height-100}" clip="true" bgcolor="0xcccccc">
        <view>
            <simplelayout/>
            <view height="50"
                onmouseover="setBGColor(0xaaaadd)" onmouseout="setBGColor(0xcccccc)"
                onclick="setHeight(this.height == 50 ? 100 : 50)">
<!--                <datapath xpath="contactsdata:/contacts/contact" replication="lazy"/>-->
                <datapath xpath="contactsdata:/contacts/contact" replication="lazy"/>

                <method event="ondata" args="d">
                    if (d) {
                       displayname.setText(d.attributes['firstname'] + ' ' +
                             d.attributes['lastname']);
                       phone.setText(d.attributes['phone']);
                       email.setText(d.attributes['email']);
                    }
                </method>
                <view x="3" y="3" bgcolor="yellow" width="6" height="6"/>
                <text x="14" y="1" name="displayname" width="142" fontsize="12"/>
                <text y="20" name="phone" width="142"/>
                <text y="34" name="email" width="142"/>
            </view>
        </view>
        <scrollbar/>
    </view>

    <view  x="170" y="20" width="158" height="${parent.height-100}" clip="true" bgcolor="0xcccccc">
        <view>
            <simplelayout/>
            <view height="50"
                onmouseover="setBGColor(0xaaaadd)" onmouseout="setBGColor(0xcccccc)"
                onclick="expando.setVisible(!expando.visible)">
<!--                <datapath xpath="contactsdata:/contacts/contact" replication="lazy"/>-->
                <datapath xpath="contactsdata:/contacts/contact" replication="lazy"/>
                <view
                    width="142"/>

                <method event="ondata" args="d">
                    if (d) {
                       displayname.setText(d.attributes['firstname'] + ' ' +
                             d.attributes['lastname']);
                       phone.setText(d.attributes['phone']);
                       email.setText(d.attributes['email']);
                    }
                </method>
                <view x="3" y="3" bgcolor="yellow" width="6" height="6"/>
                <text x="14" y="1" name="displayname" width="142" fontsize="12"/>
                <text y="20" name="phone" width="142"/>
                <text y="34" name="email" width="142"/>
                <view y="50" name="expando" visible="false" height="20" width="142" bgcolor="green"/>
            </view>
        </view>
        <scrollbar/>
    </view>

<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
</canvas>
