<canvas debug="true">
	<dataset name="testdata1">
		<one name="one">
			<a/>
			<a/>
			<b/>
			<b/>
			<a/>
		</one>
		<two name="two">
			<b/>
			<a/>
			<a/>
			<b/>
		</two>
	</dataset>
	
	<attribute name="ondatas" value="0"/>

	<simplelayout axis="x" spacing="50" />
	<view>
		<simplelayout/>
		<text id="zt" text="with resize - gray views labeled b will resize" />
	    <list id="mylist" height="200" width="150">
	    
	    	<listitem id="myitems" bgcolor="red">
	    		
	    		<method event="ondata">
	    			canvas.ondatas++;
	    			//Debug.write("on data called: ", canvas.ondatas, this);
                    if (this.datapath.p.nodeName=="a") {
                        this.setBGColor(yellow);
                        this.setHeight(15);
                    } else {
                        this.setBGColor(gray);
                        this.setHeight(35);
                    }
	    		</method>
	    		
			    <datapath id="listdp2" xpath="testdata1:/one/*" replication="resize" />
			    <text datapath="name()" />
		    </listitem>
	    </list>
	    <button text="datapath1">
	    	<method event="onclick">
	    		canvas.ondatas = 0;
	    		//myitems.setXPath(testdata1.childNodes[0] ); 
	    		myitems.setXPath("testdata1:/one/*"); 
	    	</method>
	   	</button>
	    <button text="datapath2">
	    	<method event="onclick">
	    		canvas.ondatas = 0;
	    		//myitems.setXPath(testdata1.childNodes[1] ); 
	    		myitems.setXPath("testdata1:/two/*"); 
	    	</method>
	   	</button>
	</view>
	<view>
		<simplelayout/>
		<text text="without resize - gray views labeled b will not resize"/>
	    <list id="mylist2" height="200" width="150">
	    
	    	<listitem id="myitems2" bgcolor="red">
	    		
	    		<method event="ondata">
	    			canvas.ondatas++;
	    			//Debug.write("on data called: ", canvas.ondatas, this);
                    if (this.datapath.p.nodeName=="a") {
                        this.setBGColor(yellow);
                        this.setHeight(15);
                    } else {
                        this.setBGColor(gray);
                        this.setHeight(35);
                    }
	    		</method>
	    		
			    <datapath id="listdp" xpath="testdata1:/one/*" />
			    <text datapath="name()" />
		    </listitem>
	    </list>
	    <button text="datapath1">
	    	<method event="onclick">
	    		canvas.ondatas = 0;
	    		//myitems.setXPath(testdata1.childNodes[0] ); 
	    		myitems2.setXPath("testdata1:/one/*"); 
	    	</method>
	   	</button>
	    <button text="datapath2">
	    	<method event="onclick">
	    		canvas.ondatas = 0;
	    		//myitems.setXPath(testdata1.childNodes[1] ); 
	    		myitems2.setXPath("testdata1:/two/*"); 
	    	</method>
	   	</button>
	</view>
	
</canvas>

<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2006 Laszlo Systems, Inc.  All Rights Reserved.                   *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
