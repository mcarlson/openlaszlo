<canvas>
    <inittimer/>

    <resource name="lzfocusbracket_topleft_rsrc"
               src="lz/resources/focus/focus_top_lft.png" />
    <resource name="lzfocusbracket_topleft_shdw_rsrc"
               src="lz/resources/focus/focus_top_lft_shdw.png" />
    <resource name="lzfocusbracket_topright_rsrc"
               src="lz/resources/focus/focus_top_rt.png" />
    <resource name="lzfocusbracket_topright_shdw_rsrc"
               src="lz/resources/focus/focus_top_rt_shdw.png" />
    <resource name="lzfocusbracket_bottomleft_rsrc"
               src="lz/resources/focus/focus_bot_lft.png" />
    <resource name="lzfocusbracket_bottomleft_shdw_rsrc"
               src="lz/resources/focus/focus_bot_lft_shdw.png" />
    <resource name="lzfocusbracket_bottomright_rsrc"
               src="lz/resources/focus/focus_bot_rt.png" />
    <resource name="lzfocusbracket_bottomright_shdw"
               src="lz/resources/focus/focus_bot_rt_shdw.png" />

    <class name="focusoverlay"  >
        <!--- the offset is used by the brackets to 'offset' themselves from the
              bounding rect of the focusoverlay. The bounce effect is achieved
              by animating this parameter -->
        <attribute name="offset" value="5" />

        <view name="topleft"
              x="${-classroot.offset}"
              y="${-classroot.offset}" >
            <view resource="lzfocusbracket_topleft_shdw_rsrc" x="1" y="1" opacity=".25"/>
            <view resource="lzfocusbracket_topleft_rsrc"/>
        </view>

        <view name="topright"
              x="${parent.width - width + classroot.offset }"
              y="${-classroot.offset}"  >
            <view resource="lzfocusbracket_topright_shdw_rsrc" x="1" y="1" opacity=".25"/>
            <view resource="lzfocusbracket_topright_rsrc"/>
        </view>

        <view name="bottomleft"
              x="${-classroot.offset}"
              y="${parent.height - height + classroot.offset }"  >
            <view resource="lzfocusbracket_bottomleft_shdw_rsrc" x="1" y="1" opacity=".25"/>
            <view resource="lzfocusbracket_bottomleft_rsrc"/>
        </view>

        <view name="bottomright"
              x="${ parent.width - width + classroot.offset  }"
              y="${ parent.height - height + classroot.offset }" >
            <view resource="lzfocusbracket_bottomright_shdw" x="1" y="1" opacity=".25"/>
            <view resource="lzfocusbracket_bottomright_rsrc"/>
        </view>

        <!--- overrides base method to add a bounce effect as the brackets move from view to view
              @param LzView v: The view that will receive the focus -->
        <method name="dofocus" args="v">
            // add a bounce to the default focus animation for the brackets.
            super.dofocus( v );
            if ( visible ) this.bounce();
        </method>

        <!--- the expand and contract effect of the focus brackets with each new focus -  called by doFocus -->
        <method name="bounce" >
            this.animate('offset',12, duration/2.0);
            this.animate('offset',5, duration);
        </method>

    </class>


<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
</canvas>
