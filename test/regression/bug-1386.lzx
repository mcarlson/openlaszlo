<canvas debug="true" oninit="debug.sety(260)">
    <dataset name="mydata">
        <item>
            <time>7pm</time>
            <name>Birthday Party</name>
            <place>Bret's house</place>
        </item>
    </dataset>
    <dataset name="blank">
        <item>
            <time>8am</time>
            <name>New Event</name>
            <place>location</place>
        </item>
    </dataset>

    <datapointer id="dp" xpath="mydata:/"/>
    <datapointer id="blankp" xpath="blank:/item[0]"/>

    <class name="inputtextbox" extends="inputtext" bgcolor="white">
        <view name="v_border" height="1"       bgcolor="black" width="${parent.width}" />
        <view name="h_border" width="1"  y="1" bgcolor="black" height="${parent.height -1}" />
        <method name="updateData">
            return this.getText();
        </method>
        <method event="onblur">
            this.datapath.updateData();
        </method>
    </class>

   <view bgcolor="blue" datapath="mydata:/">
       <view bgcolor="white" opacity=".6" x="2" >
           <datapath xpath="item" sortpath="time/text()"/>

           <text  width="30" />
           <text  datapath="name/text()" width="120" visible="${!parent.parent.visible}"/>
           <text  datapath="place/text()" width="120" visible="false"/>

           <simplelayout spacing="4" axis="x"/>
       </view>

       <simplelayout spacing="2"/>
   </view>

    <view datapath="blank:/item">
        <inputtextbox datapath="time/text()"/>
        <inputtextbox datapath="name/text()"/>
        <inputtextbox datapath="place/text()"/>
        <button onclick="parent.add()">Add</button>
        <method name="add">
            debug.write("dp:"+dp);
            debug.write("blankp:"+blankp);
            dp.AddNodeFromPointer(blankp);
        </method>
        <simplelayout spacing="10" axis="x"/>

    </view>
    <simplelayout spacing="20"/>

</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
