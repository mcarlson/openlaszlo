<canvas debug="true">

    <debug y="200"/>
    <dataset name="dset">
        <thing thingName="aaaaa"  thingDate="December"/>
        <thing thingName="bbbbb"  thingDate="December" />
        <thing thingName="ccccc"  thingDate="November" />
        <thing thingName="ddddd"  thingDate="January" />
        <thing thingName="eeeee"  thingDate="January" />
        <thing thingName="fffff"  thingDate="January" isSelected="false"/>
    </dataset>

    <view name="test">
        <view name="innertest" clickable="true">
            <attribute name="textcolor" value="${checkSelected(this.datapath.xpathQuery('@isSelected'))}" /> 
            <datapath xpath="dset:/thing" pooling="true"/>
            <simplelayout axis="x" />
            <text datapath="@thingName" fgcolor="${this.parent.textcolor}"  />
            <text datapath="@thingDate" fgcolor="${this.parent.textcolor}" />
            
            <method name="checkSelected" args="toCheck">
                if(toCheck ==  "true") return 0x00AFAF;
                else  return 0x000000;
            </method>

            <method event="onclick">
                this.datapath.setNodeAttribute("isSelected", "true");
            </method>
        </view>
        <simplelayout />
    </view>

    <view>
        <simplelayout axis="x" spacing="5"/>
        <button text="Sort by Name">
            <method event="onclick">
                canvas.test.innertest.setOrder("@thingName", "descending" );
            </method>
        </button>

        <button text="Sort by Date">
            <method event="onclick">
                canvas.test.innertest.setOrder("@thingDate", "descending" );
            </method>
        </button>
    </view>
    <simplelayout spacing="10"/>
  
</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
