<canvas  bgcolor="#EAEAEA" width="640" height="540" debug="true">

    <connection receiveuserdisconnect="false" authenticator="anonymous" />

    <connectiondatasource name="myconnection">
        <dataset name="message" />

        <method event="onconnect">
            Debug.write("connected");
            canvas.myconnection.sendMessage("nooneconnectedname", "message", "message");
        </method>

        <method event="ontimeout">
            Debug.write("connection timeout");
        </method>

        <method event="onerror">
            Debug.write("connection error");
        </method>

    </connectiondatasource>

    <datapointer xpath="myconnection:message:/*">
        <method event="ondata">
            var from = this.xpathQuery('/from[0]/@name');
            var mesg = this.xpathQuery('/text()');
            Debug.write(from + ": " + mesg);
        </method>
        <method event="onerror">
            Debug.write("error");
        </method>
    </datapointer>

    <script>
        canvas.connection.connect();
    </script>

<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
</canvas>
