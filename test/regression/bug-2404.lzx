<canvas>
    <script>
        whatever="whatever";
    </script>
<view>
    <attribute name="bar" value="bar" type="string"/>
    <method name="foo">
        return "foo";
    </method>
    <state apply="true">
        <attribute name="bar" value="${foo()}" when="once"/>
        <attribute name="foo" value="${whatever}"/>
    </state>

    <text text="${'expected foo : ' + parent.bar}"/>
</view>
</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
