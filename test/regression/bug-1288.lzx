<canvas width="1024" height="768" debug="true" oninit="debug.sety(70)">
    <dataset name="selfdata" type="http"/>

    <class name="xmlnode" clickable="true" bgcolor="silver">
        <attribute name="haschildren" value="false"/>

        <method event="onclick">
            setAttribute('haschildren', true);
        </method>

        <simplelayout/>
        <text name="nm" width="600" datapath="name()"/>
        <text name="txt" width="600"  multiline="true" datapath="text()"/>

        <state name="childstate">
            <attribute name="apply" value="$always{parent.haschildren}"/>
            <xmlnode x="10" datapath="*"/>
        </state>
    </class>

    <view x="610" width="80">
        <button text="load self" width="100%">
            <method event="onclick">
                var u = new lzURL( lzbrowser.getloadURL() );
                u.query = 'lzt=xml';
                Debug.write(u);
                canvas.datasets.selfdata.setSrc( u.toString() );
                canvas.datasets.selfdata.doRequest();
            </method>
        </button>

   </view>
    <view width="600" height="540" clip="true">
        <view >
            <simplelayout />
            <xmlnode name="repl" datapath="selfdata:/*"/>
        </view>
        <scrollbar/>
    </view>
</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
