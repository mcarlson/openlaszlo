<canvas debug="true">
	<debug y="100"/>
    <view name="projectile" bgcolor="red" width="20" height="20" y="50"
          clickable="true">

        <attribute name="collisionValue" value="$once{wall.x}" />
        
        <method event="onclick">
            this.animHandle = this.animate( 'x', 400, 3000, false );
            this.del = new LzDelegate(this, 'checkForCollision')
            del.execute()
        </method>

        <method name="checkForCollision">
            <![CDATA[
            if ( this.x >= this.collisionValue - this.width) {
                debug.write( "COLLISION!!!" );
                this.animHandle.stop();
                return;
            }
            LzIdle.callOnIdle(this.del)
            ]]>
        </method>
    </view>
    <view name="wall" bgcolor="blue" width="5" height="300" x="300" />
</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
