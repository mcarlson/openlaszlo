<canvas width="800" debug="true">
    <debug y="300"/>
    <dataset name="myds">
        <days>
            <day daydate="December 4, 2003">
                <reminder time="10:00am" 
                          desc="Remember to get up and stretch"
                          category="private" />
                <reminder time="3:15pm" 
                          desc="Take your Allegra"
                          category="medical" />

            </day>
            <day daydate="December 5, 2003">
                <reminder time="11:00am" desc="Go to park" />
            </day>
        </days>
    </dataset>

    
    <class name="reminder_row" bgcolor="0xffffff" height="25"
           clickable="true">
        <text valign="middle" x="10" width="60" datapath="@time" />
        <text valign="middle" x="80" width="200" datapath="@desc" />
        <method event="onclick">
            detailView.datapath.setPointer( this.datapath.p );
        </method>
    </class>


    <simplelayout axis="x" spacing="25" />
     
    <view x="10" y="10" bgcolor="0xeaeaea" 
          datapath="myds:/days/day[1]"
          height="175">
        <button align="left">Prev Day
            <method event="onclick">
                this.parent.datapath.selectPrev();
            </method>
        </button>

        <text datapath="@daydate" align="center" width="150"/>

        <button align="right">Next Day
            <method event="onclick">
                this.parent.datapath.selectNext();
            </method>
        </button>

        <view name="reminders" y="25">
            <simplelayout axis="y" spacing="1" />
            <!-- Because we don't specify a range (reminder[1]), this will
                 replicate as many reminders as it finds -->
            <reminder_row datapath="reminder"/>
        </view>
    </view>

    <!-- Here is the detail view. -->
    <view id="detailView" bgcolor="yellow" width="250" height="300" 
          datapath="">
        <simplelayout axis="y" spacing="10" />
        <text>Here is some other view</text>
         
        <!-- Some hidden field from the XML dataset -->
        <attribute name="category" type="string" value="$path{'@category'}" />

        <text datapath="${'@desc'}" fontstyle="bold" resize="true" 
              align="center" />

        <text width="100" datapath="@time" />

        <method event="ondata">
            // XXX
            // This method should fire!
            Debug.write( "This method should fire, but it does not." );

        </method>
    </view>
</canvas>
<!-- * X_LZ_COPYRIGHT_BEGIN ***************************************************
* Copyright 2001-2004 Laszlo Systems, Inc.  All Rights Reserved.              *
* Use is subject to license terms.                                            *
* X_LZ_COPYRIGHT_END ****************************************************** -->
