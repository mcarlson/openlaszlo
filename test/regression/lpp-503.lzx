<canvas>
    <dataset name="dates">
        <events>
            <event>
                <start year="2005" month="9" day="6" hour="9"/>
            </event>
            <event>
                <start year="2005" month="9" day="6" hour="27"/>
            </event>
        </events>
    </dataset>



    <datapointer id="currenteventDP" />

    <method event="oninit">
        currenteventDP.setXPath('dates:/events/event[1]');
    </method>

    <simplelayout/>
    <view datapath="dates:/events/event">
        <text datapath="start/@hour"/>
        <method event="onclick">
            currenteventDP.setFromPointer(this.datapath);
        </method>
    </view>

    <button>Increment hour
        <method event="onclick">
            var tempdp = currenteventDP.dupePointer();
            tempdp.setXPath('start');
            var hour = currenteventDP.xpathQuery('start[1]/@hour') * 1;
            tempdp.setNodeAttribute('hour', hour + 1);
        </method>
    </button>

    <hbox bgcolor="red">
        <datapath p="${currenteventDP.p}"/>
        <method event="ondata">
            Debug.warn('ondata red'); 
        </method>
        <text>Selected</text>
        <text datapath="start/@hour">
            <method event="ondata">
                Debug.warn('ondata text'); 
            </method>
        </text>
    </hbox>
</canvas>
<!-- Copyright 2006 Laszlo Systems INC. --> 




