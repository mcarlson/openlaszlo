 /**
 *
 * @copyright Copyright 2001-2008 Laszlo Systems, Inc.  All Rights Reserved.
 *            Use is subject to license terms.
 *
 * @affects lzcursor
 * @access public
 * @topic LFC
 * @subtopic Services
 */

/**
 * Interface to the kernel cursor controls
 * @devnote TODO: [2008-03-20 ptw] This should be `interface` not `class`.
 */
class LzCursorInterface {
  /**
   * Shows or hides the hand cursor for all clickable views.
   * @param Boolean show: true shows the hand cursor for buttons, false hides it
   */
  function showHandCursor(show:boolean) {};

  /**
   * Sets the cursor to a resource
   * @param String resource: The resource to use as the cursor.
   */
  function setCursorGlobal(resource:String) {};

  /**
   * Prevents the cursor from being changed until unlock is called.
   */
  function lock() {};

  /**
   * Restores the default cursor.
   */
  function unlock() {};

  /**
   * Restores the default cursor if there is no locked cursor on
   * the screen.
   */
  function restoreCursor() {};
};

/**
 * Implementation of cursor controls
 * @devnote TODO: [2008-03-20 ptw] This should be `implements` not `extends`.
 */
class LzCursorService extends LzCursorInterface {
  /** The cursor service.  Also available as the global
   * <code>LzCursor</code>.
   *
   * @type LzCursorService
   * @keywords readonly
   * @devnote this should be a public getter to enforce readonly
   */
  static var LzCursor:LzCursorService;

  /** @access private 
   * @devnote AS3 does not allow private constructors, so we need the
   * error
   */
  function LzCursorService() {
    if (LzCursorService.LzCursor) {
      throw new Error("There can be only one LzCursor");
    }
  }

  LzCursorService.LzCursor = new LzCursorService;

  /** @access private */
  var showHandCursor = LzMouseKernel.showHandCursor;
  /** @access private */
  var setCursorGlobal = LzMouseKernel.setCursorGlobal;
  /** @access private */
  var lock = LzMouseKernel.lock;
  /** @access private */
  var unlock = LzMouseKernel.unlock;
  /** @access private */
  var restoreCursor = LzMouseKernel.restoreCursor;
};

/**
 * @shortdesc Alias for <link linkend="LzCursorService">LzCursorService.LzCursor</link>
 *
 * <p>The <code>LzCursor</code> service provides methods for
 * changing the mouse cursor.</p>
 *
 * <p>This example shows how the cursor can be set on a view so that
 * it will change when the mouse is over that view:</p>
 *
 * <example title="Setting the cursor for a view">
 * &lt;canvas height="30"&gt;
 *   &lt;resource name="waitcursor" src="resources/lzwaitcursor_rsc.swf"/&gt;
 *   &lt;view bgcolor="yellow" cursor="waitcursor"&gt;
 *     &lt;text&gt;Roll over to change the cursor&lt;/text&gt;
 *   &lt;/view&gt;
 * &lt;/canvas&gt;
 * </example>
 *
 * <p>This example changes the cursor for 1/2 second when the button is
 * clicked:</p>
 *
 * <example title="Changing the cursor with LzCursor">
 * &lt;canvas height="30"&gt;
 *   &lt;resource name="waitcursor" src="resources/lzwaitcursor_rsc.swf"/&gt;
 *   &lt;button onclick="setCursor()" text="Click me to change the cursor for 1/2 second"&gt;
 *     &lt;method name="setCursor"&gt;
 *       LzCursor.setCursorGlobal('waitcursor');
 *       var del= new LzDelegate(LzCursor, 'unlock');
 *       LzTimer.addTimer(del, 500);
 *     &lt;/method&gt;
 *   &lt;/button&gt;
 * &lt;/canvas&gt;
 * </example>
 *
 * @type LzCursorService
 */
var LzCursor = LzCursorService.LzCursor;
